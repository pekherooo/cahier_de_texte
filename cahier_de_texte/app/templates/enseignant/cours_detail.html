{% extends "layout.html" %}
{% block title %}{{ cours.nom }} - Détails{% endblock %}
{% block content %}

<div class="container">
    <h2 class="mb-4 text-center">{{ cours.nom }} - Séances</h2>

    <div class="card p-4 mb-4 shadow-sm">
        <form method="POST">
            <div class="mb-3">
                <label for="contenu" class="form-label">Contenu de la séance :</label>
                <textarea class="form-control" name="contenu" rows="4" required></textarea>
            </div>
            <div class="d-grid">
                <button type="submit" class="btn btn-success">Ajouter la séance</button>
            </div>
        </form>
    </div>

    <h4 class="mt-5">Historique des séances</h4>
    <table class="table table-striped table-bordered">
        <thead class="table-light">
            <tr>
                <th>#</th>
                <th>Date</th>
                <th>Contenu</th>
                <th>Validée</th>
            </tr>
        </thead>
        <tbody>
            {% for s in seances %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ s.date }}</td>
                <td>{{ s.contenu }}</td>
                <td>
                    <span class="badge {% if s.validee %}bg-success{% else %}bg-warning text-dark{% endif %}">
                        {% if s.validee %}Oui{% else %}Non{% endif %}
                    </span>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
